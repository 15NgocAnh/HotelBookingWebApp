@page
@using HotelBooking.Data.Models
@model HotelBooking.Web.Pages.Admin.Rooms.CreateModel
@{
    ViewData["Title"] = "Add New Room";
    Layout = "_AdminLayout";
}

<div class="container mt-5">
    <h2 class="text-center">Add New Room</h2>
    <form method="post">
        <div class="mb-3">
            <label asp-for="Input.RoomNo" class="form-label">Room Number</label>
            <input asp-for="Input.RoomNo" class="form-control" placeholder="Enter room number" />
            <span asp-validation-for="Input.RoomNo" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Input.RoomType" class="form-label">Room Type</label>
            <select asp-for="Input.RoomType" class="form-select">
                @foreach (var type in Model.RoomTypes)
                {
                    <option value="@type.Id">@type.Name</option>
                }
            </select>
        </div>

        <div class="mb-3">
            <label asp-for="Input.BedCount" class="form-label">Number of Beds</label>
            <input asp-for="Input.BedCount" class="form-control" type="number" />
            <span asp-validation-for="Input.BedCount" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Input.MaxOccupancy" class="form-label">Max Occupancy</label>
            <input asp-for="Input.MaxOccupancy" class="form-control" type="number" />
            <span asp-validation-for="Input.MaxOccupancy" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Input.PricePerNight" class="form-label">Price Per Night</label>
            <input asp-for="Input.PricePerNight" class="form-control" type="number" step="0.01" />
            <span asp-validation-for="Input.PricePerNight" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Input.Area" class="form-label">Area (m²)</label>
            <input asp-for="Input.Area" class="form-control" type="number" />
            <span asp-validation-for="Input.Area" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Input.Description" class="form-label">Description</label>
            <textarea asp-for="Input.Description" class="form-control"></textarea>
        </div>

        <!-- Facilities -->
        <div class="mb-3">
            <label asp-for="Input.Facilities" class="form-label">Facilities</label>
            <div class="mb-3">
                @foreach (var facility in Enum.GetValues(typeof(Facility)).Cast<Facility>())
                {
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="Room.Facilities" value="@facility" id="facility_@facility"/>
                        <label class="form-check-label" for="facility_@facility">
                            @facility.ToString()
                        </label>
                    </div>
                }
            </div>
        </div>

        <div class="mb-3">
            <label asp-for="Input.ImageUrl" class="form-label">Image URL</label>
            <input asp-for="Input.ImageUrl" class="form-control" placeholder="Enter image link" />
        </div>

        <button type="submit" class="btn btn-primary">Add Room</button>

        <input type="hidden" asp-for="@Model.RoomTypes" />
    </form>
</div>